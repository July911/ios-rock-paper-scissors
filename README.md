# 묵찌빠 프로젝트 저장소

팀원 : [@July911](https://github.com/July911) [@ye-ha](https://github.com/ye-ha) / 리뷰어 : [@Fezz](https://github.com/Fezravien)

## 순서도
![묵찌빠게임](https://user-images.githubusercontent.com/60090790/137581578-a0d62d37-342a-469f-b55b-7dad96c1dc66.jpeg)

## 구현사항
- var whoseTurn
    - 두 번째 라운드인 묵찌빠 게임을 할 때 누구의 턴인지 저장하는 변수
- runFirstRound()
    - 프로그램의 시작을 담당하는 함수
    - 이 함수가 호출되면 첫 번째 가위바위보 게임이 시작된다
    - 사용자가 게임 종료를 의미하는 "0"을 입력하면 종료된다
    - 가위바위보 게임이 비기는 경우 다시 이 함수를 호출해준다
    - 게임 진행이 완료되면 두 번째 라운드를 시작하는 runSecondRound() 함수를 호출하고 반환 없이 종료된다
- runSecondRound()
    - 반환 없이 두 번째 게임을 진행하는 함수
    - 묵찌빠 게임에서 승패가 결정되지 않는 경우 다시 이 함수를 호출해준다
- printMenuForFirstGame ()
    - 초기 메뉴를 출력하고, 허용된 범위 내의 입력값이 들어올 때까지 입력을 받아 반환하는 함수
    - 허용된 범위 외의 입력값이 들어올 때 nil을 반환한다
    - 첫 번째 게임에서 사용된다
- printMenuForSecondGame()
    - 초기 메뉴를 출력하고, 허용된 범위 내의 입력값이 들어올 때까지 입력을 받아 반환하는 함수
    - 허용된 범위 외의 입력값이 들어올 때, 게임 턴을 컴퓨터가 가져간다
    - 두 번째 게임에서 사용된다
- receiveRightInput()
    - 사용자로부터 입력을 받아 허용된 입력값 범위 내에 있는 값인지 확인하고 반환하는 함수
    - 허용된 범위 외의 입력값이 들어올 때 nil을 반환한다
- startFirstGame()
    - 컴퓨터가 패로 가질 난수 하나를 생성하여 사용자의 패와 함께 해당하는 손 이름으로 바꾼 후  fightFirstGame() 을 호출하여 gameResult를 반환하는 함수
- startSecondGame()
    - 컴퓨터가 패로 가질 난수 하나를 생성하여 사용자의 패와 함께 해당하는 손 이름으로 바꾼 후  fightSecondGame() 을 호출하여 gameResult를 반환하는 함수
- convertNumberForFisrtGame()
    - 사용자의 입력값을 enum Hand 내 해당하는 손 이름으로 바꾸어 반환하는 함수
    - e.g. "1" → scissors
- convertNumberForSecondGame()
    - 사용자의 입력값을 enum Hand 내 해당하는 손 이름으로 바꾸어 반환하는 함수
    - e.g. "1" → rock
- fightFirstGame()
    - 사용자와 컴퓨터의 손 모양을 튜플로 비교해 손 모양에 따른 게임 결과를 반환하는 함수
- fightSecondGame()
    - 사용자와 컴퓨터의 손 모양을 튜플로 비교해 손 모양에 따른 게임 결과를 반환하는 함수
    - 묵찌빠 게임이라서 사용자와 컴퓨터의 손 모양이 같으면 턴을 가진 쪽이 이긴다
- determineWhoseTurn()
    - 게임 결과에 따라 턴을 바꾸어주는 함수
    - 묵찌빠 게임에서 사용된다
    - 턴을 저장하는 변수는 전역으로 선언되어 있어 반환하지 않는다
- printGameResultMessage()
    - 게임 결과에 따른 문구를 출력하는 함수
    - 가위바위보 게임에서 사용된다

## 고민했던 것들
- 유지 보수와 가독성을 위해 하드코딩을 지양하며 변수를 사용
- 함수의 재사용성 고려
- 입력을 계속 받아야 하는 상황에서 가장 적절한 방법이 무엇인지 고민

## 개선사항
- 비슷한 테마의 enum을 nested enum으로 묶음
- 직접 숫자를 사용한 부분을 열거형으로 바꾸어 표현
- 역할과 가진 의미에 맞게 변수명 및 함수명 변경 
- enum내에서 case 사용 대신 static let을 사용해 ```.rawValue``` 사용하던 부분을 제거
- 상황에 맞게 ```guard let```, ```if let```을 적절히 사용

## 트러블 슈팅
- STEP1 진행 시 가위바위보 게임의 결과를 가리기 위해 하나씩 비교하는 방식을 사용했다. 하드코딩을 지양하며 변수를 사용하다보니 코드가 복잡해지는 문제가 있었다.  
=> 비슷한 종류끼리 열거형으로 묶어서 사용했다. 또한 결과를 가리는 함수의 로직도 튜플 이용해서 비교했다. 열거형 사용으로 인해 불필요해진 함수를 제거하고, switch문을 사용하는 등 코드에 전체적으로 큰 변화가 있었다.   
